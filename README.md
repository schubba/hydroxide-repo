# Hydroxide Debian & RPM Repository

Automated DEB/RPM repository for Hydroxide (Proton Mail Bridge CLI). 

![Hydroxide Build & Push](https://github.com/schubba/hydroxide-repo/actions/workflows/build.yml/badge.svg)

Provides easy installation and updates for K-9 Mail users and Linux enthusiasts.

I noticed that maintaining packages for Hydroxide was intentionally left to the community. 
Since I needed a reliable way to get daily updates for my own Debian/K-9 Mail setup, I created this automation. 
It's a personal project, but feel free to use the repository if you're looking for pre-built packages.

## Why this repository?
Official Proton Mail Bridge packages can be difficult to manage via standard package managers. This project bridges that gap by providing:
- **Automation**: Nightly builds ensure you are always close to the latest upstream changes.
- **Clean Integration**: Uses `apt` or `dnf` for seamless updates instead of manual `.deb` downloads.
- **Transparency**: Built via public GitHub Actions directly from the official Hydroxide source.
- **Security**: All packages are digitally signed via GPG for your safety.

## Installation

### Debian / Ubuntu / Mint / Pop!_OS
Run the following command to automatically add the repository and its GPG signing key:
```bash
curl -1sLf "https://dl.cloudsmith.io/public/opensource-89f5/hydroxide/setup.deb.sh" | sudo -E bash
sudo apt update && sudo apt install hydroxide
```

### Fedora / RHEL / CentOS / AlmaLinux
Run the following command to set up the RPM repository:

```bash
curl -1sLf "https://dl.cloudsmith.io/public/opensource-89f5/hydroxide/setup.rpm.sh" | sudo -E bash
sudo dnf install hydroxide
```

## Quick Start
After installation, you can authorize your account and start the bridge:

- Login: hydroxide auth <your-proton-username>

- Start Service: hydroxide serve

- Configure Client: Point your email client (like K-9 Mail) to localhost using the IMAP/SMTP ports and credentials generated by Hydroxide.

## Backgroundservice via Systemd

To ensure Hydroxide starts automatically and is accessible from other devices (e.g., your smartphone with K-9 Mail), follow these steps to set up the background service.

### 1. Configuration (Environment)
Define the IP address Hydroxide should listen on. Create the file /etc/default/hydroxide:

```bash
# Set to a.b.c.d to listen on all interfaces or a specific local IP
echo 'HYDROXIDE_LISTEN_IP=a.b.c.d' | sudo tee /etc/default/hydroxide
```

### 2. Systemd Unit File
Create the service file at /etc/systemd/system/hydroxide.service

```ini,TOML
[Unit]
Description=Hydroxide Proton Mail Bridge
After=network.target

[Service]
# IMPORTANT: Replace 'your-user' with your actual Linux username
User=your-user
Group=your-user

# Loads the IP address from the file created in step 1
EnvironmentFile=/etc/default/hydroxide

# Starts all bridge services (IMAP, SMTP, CardDAV)
ExecStart=/usr/local/bin/hydroxide \
  -imap-host ${HYDROXIDE_LISTEN_IP} \
  -smtp-host ${HYDROXIDE_LISTEN_IP} \
  -carddav-host ${HYDROXIDE_LISTEN_IP} \
  serve

Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```
### 3. Enable and Start
```bash
sudo systemctl daemon-reload
sudo systemctl enable --now hydroxide
```

### 4. Monitoring
You can monitor the bridge logs in real-time using:

```bash
sudo journalctl -u hydroxide -f
```

## Maintenance & Safety
Retention: This repository automatically keeps the last 5 versions to ensure storage limits are respected while providing a history for rollbacks.

Updates: Simply run your standard system updates (sudo apt upgrade or sudo dnf upgrade) to receive the latest Hydroxide version automatically.


## K-9 Mail Setup GuideTo connect your mobile device (e.g., K-9 Mail) to this bridge
use the following configuration.
Important: Before starting, ensure you have run hydroxide auth <your-username> once on your server to generate your bridge password.

### 1. Connection Settings

IMAP Server a.b.c.d (Your Server IP) 
IMAP Port 1143
IMAP Security None

SMTP Servera.b.c.d (Your Server IP)
SMTP Port 1025
SMTP SecurityNone

Username: Your full Proton Mail address
Password: **Your Bridge Password** (as shown by hydroxide status)

### 2. Security Recommendation
Warning: By default, the communication between your mobile device and this bridge is unencrypted (as Hydroxide assumes a local environment).

Public/Mobile Networks: Do not expose these ports directly to the internet.

Recommendation: If you want to access your mail from outside your home, it is strongly recommended to use a VPN (e.g., WireGuard or OpenVPN) to establish a secure tunnel to your server. 
This ensures your credentials and emails remain protected while in transit.


## Disclaimer

This is a community-maintained build-wrapper. 
For the actual logic and issues with the bridge itself, please visit the original repository at emersion/hydroxide.

* It is **not** an official Proton Mail or Hydroxide project.
* The DEB/RPM packages are provided "as-is" for convenience.
* For core issues with the bridge functionality, please refer to the original project at [emersion/hydroxide](https://github.com/emersion/hydroxide).


## Credits
- Hydroxide CLI: Created by emersion.

- Packaging & CI/CD: Maintained via GitHub Actions.

- Hosting: Infrastructure provided by Cloudsmith (Open Source Hosting).
